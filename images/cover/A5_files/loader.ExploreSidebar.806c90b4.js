(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{"A+RP":function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_INTERVAL",(function(){return q})),n.d(t,"ExploreSidebar",(function(){return H}));var r,o,i=n("1Pcy"),a=n.n(i),s=n("W/Kd"),c=n.n(s),d=n("KEM+"),l=n.n(d),u=n("ERkP"),h=(n("PN9k"),n("R972")),p=n("8UdT"),m=n("iu0J"),f=n("3XMw"),_=n.n(f),b=n("caTy"),T=n("zML4"),w=n("3xO4"),v=n.n(w),y=n("Irs7"),E=n("hxu0"),g=n("6vad"),k=n("rC8y"),M=_.a.e1b61d44,S=_.a.e05b3b2d,I=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,l()(a()(r),"_handleShowMoreInlineClick",(function(){var e=r.props.onClick;r.setState({showMoreTrends:!0}),e("show_more_inline")})),l()(a()(r),"_handleShowMoreClick",(function(){(0,r.props.onClick)("show_more")})),r.state={showMoreTrends:!1},r}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.trends,n=e.analytics;t&&t.length>0&&n.scribe({action:"impression",component:"explore_sidebar"})},n.canShowMoreTrends=function(){var e=this.props.trends;return!this.state.showMoreTrends&&e.length>5},n.render=function(){var e=this.props,t=e.footer,n=e.headerTitle,r=e.isInSidebar,o=u.createElement(T.a,{to:"/settings/trends"});return u.createElement(v.a,null,u.createElement(g.a,{rightControl:o,text:n||M}),this._renderTrends(),this.canShowMoreTrends()?u.createElement(k.a,{onPress:this._handleShowMoreInlineClick,text:S,withBottomRadius:!0,withDarkerInteractiveBackground:r}):!!t&&u.createElement(k.a,{link:t.landingUrl?Object(b.b)(t.landingUrl):void 0,onPress:this._handleShowMoreClick,text:t.text,withBottomRadius:!0,withDarkerInteractiveBackground:r}))},n._renderTrends=function(){var e=this.props.trends;return(this.state.showMoreTrends?e:e.slice(0,5)).map((function(e){return u.createElement(u.Fragment,{key:e.key},e.item)}))},t}(u.Component),C=Object(y.a)(Object(E.a)(I)),O=n("+o05"),x=n("zh9S"),P=n("5Y9N"),U=n("XtkE"),j=n("xN10"),A=n("VPAj"),R=((r={})[p.a.TimelineCursor]=h.d(h.a()),r[p.a.Label]=h.d(h.a()),r[p.a.Message]=h.d(h.a()),r[p.a.News]=h.d(h.a()),r[p.a.Trend]=Object(U.a)({withThirdPartyCards:!1,errorContext:"EXPLORE_SIDEBAR"}),r[p.a.EventSummary]=Object(m.a)({errorContext:"EXPLORE_SIDEBAR"}),r[p.a.ScoreEventSummary]=O.a,r),D=((o={}).TrendsModule=h.f({bindActions:function(){return{scribeAction:x.c}},component:C,createProps:function(e){var t=e.entry,n=e.renderEntry,r=e.scribeNamespace,o=e.actions.scribeAction,i=t.content,a=i.footer,s=i.header,c=i.items;return{footer:a,headerTitle:s&&s.text,onClick:function(e){o(Object.assign({},r,{element:e,action:"click"}))},trends:c.map((function(e){return{item:n(e),key:e.entryId}}))}},shouldDisplayBorder:Object(A.a)(!1)}),o),B=Object.assign({},Object(P.a)({customHandlers:D,customSelectDisplayType:function(e){return(t=e.content.items).length>0&&Object(j.a)(t,(function(e){return e.type===p.a.Trend}))?"TrendsModule":e.content.displayType;var t},isInSidebar:!0}),R),L=n("fTQJ"),F=n("b8qQ"),N=n("B5iK"),K=n("Kzn8"),W=n.n(K),J=n("FIs5"),X=n("I7xG"),z=n("BxsD"),V=_.a.f9ef5332,Q=_.a.e7f88406,q=3e5,G=function(){return u.createElement(J.a,{message:Q})},H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,l()(a()(t),"_getModuleWithProfileUserId",Object(X.a)(a()(t),(function(e){return e.profileUserId}),(function(e){return Object(z.c)({displayLocation:z.a.WebSidebar,profileUserId:e})}))),l()(a()(t),"_setTimelineRef",(function(e){t._timeline=e,e&&t._startTimer()})),l()(a()(t),"_startTimer",(function(){t._stopTimer(),t._timer=new N.b(q).interval(t._fetchUpdates),t._timer.start()})),l()(a()(t),"_stopTimer",(function(){t._timer&&t._timer.stop(),t._timer=void 0})),l()(a()(t),"_onAppForegrounded",(function(e){"active"===e&&t._fetchUpdates()})),l()(a()(t),"_fetchUpdates",(function(){t._timeline&&"active"===W.a.currentState&&t._timeline.fetchTop({})})),t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){W.a.addEventListener("change",this._onAppForegrounded)},n.componentWillUnmount=function(){this._stopTimer(),W.a.removeEventListener("change",this._onAppForegrounded)},n.render=function(){var e=this.props.profileUserId?this._getModuleWithProfileUserId():z.f;return u.createElement(v.a,null,u.createElement(L.a,{entryConfiguration:B,module:e,renderUnavailable:G,scroller:F.a,showFooter:!1,timelineRef:this._setTimelineRef,title:V,withInstreamVideo:!1,withKeyboardShortcuts:!1}))},t}(u.Component);t.default=H}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web/loader.ExploreSidebar.806c90b4.js.map